<template>
  <div ref="threeContainer" class="three-container"></div>
  <el-button @click="addoor" type="primary" style="position:absolute;top:10px;left:10px;">添加</el-button>
</template>

<script setup>
import { ref, onMounted } from 'vue';

import * as THREE from 'three';
import { CSG } from 'three-csg-ts';
import {OrbitControls} from 'three/examples/jsm/controls/OrbitControls.js'
const threeContainer = ref(null);
let wallMesh,wallMaterial,wallGeometry,scene
let meshdata =  {
  "metadata": {
    "version": 4.6,
    "type": "Object",
    "generator": "Object3D.toJSON"
  },
  "geometries": [
    {
      "uuid": "f4b8b446-14d3-44ec-af55-f2120ba7040c",
      "type": "BufferGeometry",
      "data": {
        "attributes": {
          "position": {
            "itemSize": 3,
            "type": "Float32Array",
            "array": [
              1.7697378396987915,
              0.5,
              0.05000003054738045,
              1.7697378396987915,
              -0.5,
              0.05000003054738045,
              1.7697378396987915,
              0.5,
              -0.04999999701976776,
              1.7697378396987915,
              -0.5,
              0.05000003054738045,
              1.7697378396987915,
              -0.5,
              -0.04999999701976776,
              1.7697378396987915,
              0.5,
              -0.04999999701976776,
              -1.7697378396987915,
              0.5,
              -0.05000002309679985,
              -1.7697378396987915,
              -0.5,
              -0.05000002309679985,
              -1.7697378396987915,
              0.5,
              0.05000000819563866,
              -1.7697378396987915,
              -0.5,
              -0.05000002309679985,
              -1.7697378396987915,
              -0.5,
              0.05000000819563866,
              -1.7697378396987915,
              0.5,
              0.05000000819563866,
              0.8233156204223633,
              0.5,
              -0.05000003054738045,
              0.8223873376846313,
              0.5,
              -0.023234684020280838,
              1.7697378396987915,
              0.5,
              -0.04999999701976776,
              0.8223873376846313,
              0.5,
              -0.023234684020280838,
              0.8198474049568176,
              0.5,
              0.04999994859099388,
              1.7697378396987915,
              0.5,
              0.05000003054738045,
              0.8223873376846313,
              0.5,
              -0.023234684020280838,
              1.7697378396987915,
              0.5,
              0.05000003054738045,
              1.7697378396987915,
              0.5,
              -0.04999999701976776,
              -1.1778868436813354,
              0.5,
              -0.049999989569187164,
              -1.7697378396987915,
              0.5,
              -0.05000002309679985,
              -1.7697378396987915,
              0.5,
              0.05000000819563866,
              -1.1778868436813354,
              0.5,
              -0.049999989569187164,
              -1.7697378396987915,
              0.5,
              0.05000000819563866,
              -1.1807780265808105,
              0.5,
              0.03336027264595032,
              -1.1807780265808105,
              0.5,
              0.03336027264595032,
              -1.7697378396987915,
              0.5,
              0.05000000819563866,
              -1.1813551187515259,
              0.5,
              0.04999999329447746,
              0.8233156204223633,
              0.5,
              -0.05000003054738045,
              -1.1778868436813354,
              0.5,
              -0.049999989569187164,
              -1.1807780265808105,
              0.5,
              0.03336027264595032,
              0.8233156204223633,
              0.5,
              -0.05000003054738045,
              -1.1807780265808105,
              0.5,
              0.03336027264595032,
              0.8223873376846313,
              0.5,
              -0.023234684020280838,
              0.8223873376846313,
              0.5,
              -0.023234684020280838,
              -1.1807780265808105,
              0.5,
              0.03336027264595032,
              -1.1813551187515259,
              0.5,
              0.04999999329447746,
              0.8223873376846313,
              0.5,
              -0.023234684020280838,
              -1.1813551187515259,
              0.5,
              0.04999999329447746,
              0.8198474049568176,
              0.5,
              0.04999994859099388,
              0.8198474049568176,
              -0.5,
              0.04999994859099388,
              0.8207772374153137,
              -0.5,
              0.023189211264252663,
              1.7697378396987915,
              -0.5,
              0.05000003054738045,
              0.8207772374153137,
              -0.5,
              0.023189211264252663,
              0.8233156204223633,
              -0.5,
              -0.05000003054738045,
              1.7697378396987915,
              -0.5,
              -0.04999999701976776,
              0.8207772374153137,
              -0.5,
              0.023189211264252663,
              1.7697378396987915,
              -0.5,
              -0.04999999701976776,
              1.7697378396987915,
              -0.5,
              0.05000003054738045,
              -1.1813551187515259,
              -0.5,
              0.04999999329447746,
              -1.7697378396987915,
              -0.5,
              0.05000000819563866,
              -1.7697378396987915,
              -0.5,
              -0.05000002309679985,
              -1.1813551187515259,
              -0.5,
              0.04999999329447746,
              -1.7697378396987915,
              -0.5,
              -0.05000002309679985,
              -1.1784662008285522,
              -0.5,
              -0.033294983208179474,
              -1.1784662008285522,
              -0.5,
              -0.033294983208179474,
              -1.7697378396987915,
              -0.5,
              -0.05000002309679985,
              -1.1778868436813354,
              -0.5,
              -0.049999989569187164,
              0.8198474049568176,
              -0.5,
              0.04999994859099388,
              -1.1813551187515259,
              -0.5,
              0.04999999329447746,
              -1.1784662008285522,
              -0.5,
              -0.033294983208179474,
              0.8198474049568176,
              -0.5,
              0.04999994859099388,
              -1.1784662008285522,
              -0.5,
              -0.033294983208179474,
              0.8207772374153137,
              -0.5,
              0.023189211264252663,
              0.8207772374153137,
              -0.5,
              0.023189211264252663,
              -1.1784662008285522,
              -0.5,
              -0.033294983208179474,
              -1.1778868436813354,
              -0.5,
              -0.049999989569187164,
              0.8207772374153137,
              -0.5,
              0.023189211264252663,
              -1.1778868436813354,
              -0.5,
              -0.049999989569187164,
              0.8233156204223633,
              -0.5,
              -0.05000003054738045,
              0.8198474049568176,
              0.5,
              0.04999994859099388,
              0.8198474049568176,
              0.2316296249628067,
              0.04999994859099388,
              1.7697378396987915,
              0.5,
              0.05000003054738045,
              0.8198474049568176,
              0.2316296249628067,
              0.04999994859099388,
              0.8198474049568176,
              -0.5,
              0.04999994859099388,
              1.7697378396987915,
              -0.5,
              0.05000003054738045,
              0.8198474049568176,
              0.2316296249628067,
              0.04999994859099388,
              1.7697378396987915,
              -0.5,
              0.05000003054738045,
              1.7697378396987915,
              0.5,
              0.05000003054738045,
              -1.1813551187515259,
              0.5,
              0.04999999329447746,
              -1.7697378396987915,
              0.5,
              0.05000000819563866,
              -1.7697378396987915,
              -0.5,
              0.05000000819563866,
              -1.1813551187515259,
              0.5,
              0.04999999329447746,
              -1.7697378396987915,
              -0.5,
              0.05000000819563866,
              -1.1813551187515259,
              -0.33376556634902954,
              0.04999999329447746,
              -1.1813551187515259,
              -0.33376556634902954,
              0.04999999329447746,
              -1.7697378396987915,
              -0.5,
              0.05000000819563866,
              -1.1813551187515259,
              -0.5,
              0.04999999329447746,
              0.8198474049568176,
              0.5,
              0.04999994859099388,
              -1.1813551187515259,
              0.5,
              0.04999999329447746,
              -1.1813551187515259,
              -0.33376556634902954,
              0.04999999329447746,
              0.8198474049568176,
              0.5,
              0.04999994859099388,
              -1.1813551187515259,
              -0.33376556634902954,
              0.04999999329447746,
              0.8198474049568176,
              0.2316296249628067,
              0.04999994859099388,
              0.8198474049568176,
              0.2316296249628067,
              0.04999994859099388,
              -1.1813551187515259,
              -0.33376556634902954,
              0.04999999329447746,
              -1.1813551187515259,
              -0.5,
              0.04999999329447746,
              0.8198474049568176,
              0.2316296249628067,
              0.04999994859099388,
              -1.1813551187515259,
              -0.5,
              0.04999999329447746,
              0.8198474049568176,
              -0.5,
              0.04999994859099388,
              0.8233156204223633,
              0.5,
              -0.05000003054738045,
              1.7697378396987915,
              0.5,
              -0.04999999701976776,
              1.7697378396987915,
              -0.5,
              -0.04999999701976776,
              0.8233156204223633,
              0.5,
              -0.05000003054738045,
              1.7697378396987915,
              -0.5,
              -0.04999999701976776,
              0.8233156204223633,
              -0.23260948061943054,
              -0.05000003054738045,
              0.8233156204223633,
              -0.23260948061943054,
              -0.05000003054738045,
              1.7697378396987915,
              -0.5,
              -0.04999999701976776,
              0.8233156204223633,
              -0.5,
              -0.05000003054738045,
              -1.1778868436813354,
              0.5,
              -0.049999989569187164,
              -1.1778868436813354,
              0.3327856957912445,
              -0.049999989569187164,
              -1.7697378396987915,
              0.5,
              -0.05000002309679985,
              -1.1778868436813354,
              0.3327856957912445,
              -0.049999989569187164,
              -1.1778868436813354,
              -0.5,
              -0.049999989569187164,
              -1.7697378396987915,
              -0.5,
              -0.05000002309679985,
              -1.1778868436813354,
              0.3327856957912445,
              -0.049999989569187164,
              -1.7697378396987915,
              -0.5,
              -0.05000002309679985,
              -1.7697378396987915,
              0.5,
              -0.05000002309679985,
              -1.1778868436813354,
              0.5,
              -0.049999989569187164,
              0.8233156204223633,
              0.5,
              -0.05000003054738045,
              0.8233156204223633,
              -0.23260948061943054,
              -0.05000003054738045,
              -1.1778868436813354,
              0.5,
              -0.049999989569187164,
              0.8233156204223633,
              -0.23260948061943054,
              -0.05000003054738045,
              -1.1778868436813354,
              0.3327856957912445,
              -0.049999989569187164,
              -1.1778868436813354,
              0.3327856957912445,
              -0.049999989569187164,
              0.8233156204223633,
              -0.23260948061943054,
              -0.05000003054738045,
              0.8233156204223633,
              -0.5,
              -0.05000003054738045,
              -1.1778868436813354,
              0.3327856957912445,
              -0.049999989569187164,
              0.8233156204223633,
              -0.5,
              -0.05000003054738045,
              -1.1778868436813354,
              -0.5,
              -0.049999989569187164
            ],
            "normalized": false
          },
          "normal": {
            "itemSize": 3,
            "type": "Float32Array",
            "array": [
              1,
              0,
              8.717500610266882e-10,
              1,
              0,
              8.717500610266882e-10,
              1,
              0,
              8.717500610266882e-10,
              1,
              0,
              8.717500610266882e-10,
              1,
              0,
              8.717500610266882e-10,
              1,
              0,
              8.717500610266882e-10,
              -1,
              0,
              -8.717500610266882e-10,
              -1,
              0,
              -8.717500610266882e-10,
              -1,
              0,
              -8.717500610266882e-10,
              -1,
              0,
              -8.717500610266882e-10,
              -1,
              0,
              -8.717500610266882e-10,
              -1,
              0,
              -8.717500610266882e-10,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              0,
              -1,
              0,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              -8.717500610266882e-10,
              0,
              1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1,
              8.717500610266882e-10,
              0,
              -1
            ],
            "normalized": false
          },
          "uv": {
            "itemSize": 2,
            "type": "Float32Array",
            "array": [
              0,
              1,
              0,
              0,
              1,
              1,
              0,
              0,
              1,
              0,
              1,
              1,
              0,
              1,
              0,
              0,
              1,
              1,
              0,
              0,
              1,
              0,
              1,
              1,
              0.7326095104217529,
              1,
              0.7323471903800964,
              0.7323471903800964,
              1,
              1,
              0.7323471903800964,
              0.7323471903800964,
              0.7316296100616455,
              0,
              1,
              0,
              0.7323471903800964,
              0.7323471903800964,
              1,
              0,
              1,
              1,
              0.1672143042087555,
              1,
              0,
              1,
              0,
              0,
              0.1672143042087555,
              1,
              0,
              0,
              0.16639748215675354,
              0.16639748215675354,
              0.16639748215675354,
              0.16639748215675354,
              0,
              0,
              0.16623443365097046,
              0,
              0.7326095104217529,
              1,
              0.1672143042087555,
              1,
              0.16639748215675354,
              0.16639748215675354,
              0.7326095104217529,
              1,
              0.16639748215675354,
              0.16639748215675354,
              0.7323471903800964,
              0.7323471903800964,
              0.7323471903800964,
              0.7323471903800964,
              0.16639748215675354,
              0.16639748215675354,
              0.16623443365097046,
              0,
              0.7323471903800964,
              0.7323471903800964,
              0.16623443365097046,
              0,
              0.7316296100616455,
              0,
              0.7316296100616455,
              1,
              0.7318923473358154,
              0.7318923473358154,
              1,
              1,
              0.7318923473358154,
              0.7318923473358154,
              0.7326095104217529,
              0,
              1,
              0,
              0.7318923473358154,
              0.7318923473358154,
              1,
              0,
              1,
              1,
              0.16623443365097046,
              1,
              0,
              1,
              0,
              0,
              0.16623443365097046,
              1,
              0,
              0,
              0.16705061495304108,
              0.16705061495304108,
              0.16705061495304108,
              0.16705061495304108,
              0,
              0,
              0.1672143042087555,
              0,
              0.7316296100616455,
              1,
              0.16623443365097046,
              1,
              0.16705061495304108,
              0.16705061495304108,
              0.7316296100616455,
              1,
              0.16705061495304108,
              0.16705061495304108,
              0.7318923473358154,
              0.7318923473358154,
              0.7318923473358154,
              0.7318923473358154,
              0.16705061495304108,
              0.16705061495304108,
              0.1672143042087555,
              0,
              0.7318923473358154,
              0.7318923473358154,
              0.1672143042087555,
              0,
              0.7326095104217529,
              0,
              0.7316296100616455,
              1,
              0.7316296100616455,
              0.7316296100616455,
              1,
              1,
              0.7316296100616455,
              0.7316296100616455,
              0.7316296100616455,
              0,
              1,
              0,
              0.7316296100616455,
              0.7316296100616455,
              1,
              0,
              1,
              1,
              0.16623443365097046,
              1,
              0,
              1,
              0,
              0,
              0.16623443365097046,
              1,
              0,
              0,
              0.16623443365097046,
              0.16623443365097046,
              0.16623443365097046,
              0.16623443365097046,
              0,
              0,
              0.16623443365097046,
              0,
              0.7316296100616455,
              1,
              0.16623443365097046,
              1,
              0.16623443365097046,
              0.16623443365097046,
              0.7316296100616455,
              1,
              0.16623443365097046,
              0.16623443365097046,
              0.7316296100616455,
              0.7316296100616455,
              0.7316296100616455,
              0.7316296100616455,
              0.16623443365097046,
              0.16623443365097046,
              0.16623443365097046,
              0,
              0.7316296100616455,
              0.7316296100616455,
              0.16623443365097046,
              0,
              0.7316296100616455,
              0,
              0.26739051938056946,
              1,
              0,
              1,
              0,
              0,
              0.26739051938056946,
              1,
              0,
              0,
              0.26739051938056946,
              0.26739051938056946,
              0.26739051938056946,
              0.26739051938056946,
              0,
              0,
              0.26739051938056946,
              0,
              0.8327857255935669,
              1,
              0.8327857255935669,
              0.8327857255935669,
              1,
              1,
              0.8327857255935669,
              0.8327857255935669,
              0.8327857255935669,
              0,
              1,
              0,
              0.8327857255935669,
              0.8327857255935669,
              1,
              0,
              1,
              1,
              0.8327857255935669,
              1,
              0.26739051938056946,
              1,
              0.26739051938056946,
              0.26739051938056946,
              0.8327857255935669,
              1,
              0.26739051938056946,
              0.26739051938056946,
              0.8327857255935669,
              0.8327857255935669,
              0.8327857255935669,
              0.8327857255935669,
              0.26739051938056946,
              0.26739051938056946,
              0.26739051938056946,
              0,
              0.8327857255935669,
              0.8327857255935669,
              0.26739051938056946,
              0,
              0.8327857255935669,
              0
            ],
            "normalized": false
          }
        },
        "index": {
          "type": "Uint16Array",
          "array": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131
          ]
        },
        "groups": [
          {
            "start": 0,
            "count": 6,
            "materialIndex": 0
          },
          {
            "start": 6,
            "count": 6,
            "materialIndex": 1
          },
          {
            "start": 12,
            "count": 30,
            "materialIndex": 2
          },
          {
            "start": 42,
            "count": 30,
            "materialIndex": 3
          },
          {
            "start": 72,
            "count": 30,
            "materialIndex": 4
          },
          {
            "start": 102,
            "count": 30,
            "materialIndex": 5
          },
          {
            "start": 132,
            "count": 0,
            "materialIndex": 6
          }
        ],
        "boundingSphere": {
          "center": [
            0,
            0,
            0
          ],
          "radius": 1.8396934593340502
        }
      }
    }
  ],
  "materials": [
    {
      "uuid": "305b2f04-50a6-4674-8e23-93d706be65a0",
      "type": "MeshBasicMaterial",
      "color": 9671314,
      "envMapRotation": [
        0,
        0,
        0,
        "XYZ"
      ],
      "reflectivity": 1,
      "refractionRatio": 0.98,
      "blendColor": 0
    }
  ],
  "object": {
    "uuid": "20ec9bf3-c369-474c-86fc-e0dcfd237a6f",
    "type": "Mesh",
    "name": "door",
    "castShadow": true,
    "receiveShadow": true,
    "layers": 1,
    "matrix": [
      0.9993991188974686,
      0,
      -0.034661234065788575,
      0,
      0,
      1,
      0,
      0,
      0.034661234065788575,
      0,
      0.9993991188974686,
      0,
      0.1789121710498759,
      0,
      1.8249040213329843,
      1
    ],
    "up": [
      0,
      1,
      0
    ],
    "geometry": "f4b8b446-14d3-44ec-af55-f2120ba7040c",
    "material": "305b2f04-50a6-4674-8e23-93d706be65a0"
  }
}
onMounted(() => {


  // 初始化场景
   scene = new THREE.Scene();


  const camera = new THREE.PerspectiveCamera(75, threeContainer.value.clientWidth / threeContainer.value.clientHeight, 0.1, 1000);
  camera.position.z = 5;

  const renderer = new THREE.WebGLRenderer();
  renderer.setSize(threeContainer.value.clientWidth,threeContainer.value.clientHeight);
  threeContainer.value.appendChild(renderer.domElement);

  const light = new THREE.DirectionalLight(0xffffff, 1);
  light.position.set(5, 5, 5).normalize();
  scene.add(light);

  // 创建墙体
   wallGeometry = new THREE.BoxGeometry(4, 3, 0.1);
   wallMaterial = new THREE.MeshBasicMaterial({ color: 0x8B4513 });
   wallMesh = new THREE.Mesh(wallGeometry, wallMaterial);
   console.log(wallMesh)
   /*wallMesh  =  {
     "metadata": {
       "version": 4.6,
       "type": "Object",
       "generator": "Object3D.toJSON"
     },
     "geometries": [
       {
         "uuid": "94afbbe0-af8a-47fe-ab2f-74e8ca780873",
         "type": "BoxGeometry",
         "width": 3.936717951271793,
         "height": 1,
         "depth": 0.1,
         "widthSegments": 1,
         "heightSegments": 1,
         "depthSegments": 1
       }
     ],
     "materials": [
       {
         "uuid": "ca67137e-39fa-4111-ac8a-8779e13a7519",
         "type": "MeshBasicMaterial",
         "color": 9671314,
         "envMapRotation": [
           0,
           0,
           0,
           "XYZ"
         ],
         "reflectivity": 1,
         "refractionRatio": 0.98,
         "blendColor": 0
       }
     ],
     "object": {
       "uuid": "601556d0-372b-4152-8eef-2f659b9587f9",
       "type": "Mesh",
       "name": "wall",
       "layers": 1,
       "matrix": [
         0.9998347517865541,
         0,
         0.018178809639791963,
         0,
         0,
         1,
         0,
         0,
         -0.018178809639791963,
         0,
         0.9998347517865541,
         0,
         0.5009540274031997,
         0,
         2.0038161407699,
         1
       ],
       "up": [
         0,
         1,
         0
       ],
       "geometry": "94afbbe0-af8a-47fe-ab2f-74e8ca780873",
       "material": "ca67137e-39fa-4111-ac8a-8779e13a7519"
     }
   }*/


  const controls =  new OrbitControls(camera, renderer.domElement)
  controls.update()
  function animate() {
    requestAnimationFrame(animate);
    renderer.render(scene, camera);
    controls.update()
  }

  animate();


  // 处理窗口大小变化
  window.addEventListener('resize', () => {
    camera.aspect = threeContainer.value.clientWidth / threeContainer.value.clientHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(threeContainer.value.clientWidth, threeContainer.value.clientHeight);
  });

  return () => {
    window.removeEventListener('resize', () => {});
  };
});
const  addoor= ()=>{
// 创建门和窗
  const doorGeometry = new THREE.BoxGeometry(1, 2, 0.1);

  const doorMaterial = new THREE.MeshBasicMaterial({ color: 'pink' });
  const doorMesh =  new THREE.Mesh(doorGeometry, doorMaterial)


  doorMesh.updateMatrix();

  // 执行 CSG 操作
  const wallCSG = CSG.fromMesh(wallMesh);
  const doorCSG = CSG.fromMesh(doorMesh);
  const subtractedCSG = wallCSG.subtract(doorCSG);

  // 转换回 Three.js 网格
  const resultMesh = CSG.toMesh(subtractedCSG, wallMesh.matrix);
  resultMesh.material = wallMaterial; // 应用相同的材质

  scene.add(resultMesh);
}
</script>

<style scoped>
.three-container {
  width: 100%;
  height: 100vh;
}
</style>
